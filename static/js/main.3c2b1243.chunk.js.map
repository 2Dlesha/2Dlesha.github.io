{"version":3,"sources":["components/Source.js","components/SourcesBlock.js","components/Article.js","Constants.js","NewsFunctions.js","components/NothingFound.js","components/ArticlesBlock.js","components/ShowMoreButton.js","components/SearchBlock.js","components/App.js","index.js"],"names":["Source","params","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onClick","changeSource","source","method","react_default","a","createElement","className","name","Component","SourcesBlock","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","setState","currSource","id","currSourceName","reload","stop","_x","apply","arguments","sources","state","_this2","sourceList","map","x","Source_Source","Article","article","urlToImage","src","alt","title","description","href","url","author","API_KEY","PAGE_SIZE","NEWS_LIMIT","LoadNewsSources","_LoadNewsSources","apiKey","req","response","json","Request","fetch","sent","abrupt","GetNews","_x2","_x3","_x4","_x5","_GetNews","_callee2","currentPage","pageSize","q","_args2","_context2","length","undefined","console","log","articles","NothingFoundBlock","p","ArticlesBlock","LoadNews","newArticles","AddArticles","Article_Article","newsBlocks","concat","ref","NothingFound_NothingFoundBlock","ShowMoreButton","props","Refresh","gotNewsCount","newsPerRequest","newsCount","maxNewsCount","MakeInvisible","MakeVisible","isVisible","buttonName","value","button","SearchBlock","SetFilter","filter","refs","type","App","UpdatePage","articlesBlock","loadedNews","showMoreButton","ReloadPage","searchBlock","sourcesBlock","SearchBlock_SearchBlock","SourcesBlock_SourcesBlock","ArticlesBlock_ArticlesBlock","ShowMoreButton_ShowMoreButton","allsources","ReactDOM","render","App_App","document","getElementById","LoadPage"],"mappings":"mOAIqBA,oBAEjB,SAAAA,EAAYC,GACZ,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACIE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,QAUJI,QAAU,WACNP,EAAKQ,aAAaR,EAAKS,SAVvBT,EAAKS,OAASV,EAAOU,OACrBT,EAAKQ,aAAeT,EAAOW,OAH/BV,wEAQI,OAAOW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaP,QAASJ,KAAKI,SAAUJ,KAAKM,OAAOM,aAX3CC,cCCfC,cACjB,SAAAA,EAAYlB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAc,IACfjB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgB,GAAAX,KAAAH,QAmBJK,aApBmB,eAAAU,EAAAjB,OAAAkB,EAAA,EAAAlB,CAAAmB,EAAAR,EAAAS,KAoBJ,SAAAC,EAAQb,GAAR,OAAAW,EAAAR,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACL1B,EAAK2B,SAAS,CAACC,WAAanB,EAAOoB,GAAIC,eAAiBrB,EAAOM,OAD1D,OAEXf,EAAK+B,SAFM,wBAAAP,EAAAQ,SAAAV,MApBI,gBAAAW,GAAA,OAAAf,EAAAgB,MAAA/B,KAAAgC,YAAA,GAEfnC,EAAKoC,QAAUrC,EAAOqC,QACtBpC,EAAK+B,OAAShC,EAAOgC,OACrB/B,EAAKqC,MAAQ,CAACT,WAAa,GAAIE,eAAiB,YAJjC9B,wEAOX,IAAAsC,EAAAnC,KACEoC,EAAapC,KAAKiC,QAAQI,IAAI,SAACC,GAAD,OAAO9B,EAAAC,EAAAC,cAAC6B,EAAD,CAAQjC,OAAUgC,EAAG/B,OAAQ4B,EAAK9B,iBAE7E,OACIG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAMC,UAAU,kBAAkBX,KAAKkC,MAAMP,gBAC7CnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAiBe,GAAG,WAC9BU,WAfqBvB,aCDrB2B,cAEjB,SAAAA,EAAY5C,GACZ,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwC,IACI3C,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0C,GAAArC,KAAAH,QACKyC,QAAU7C,EAAO6C,QACQ,MAA3B5C,EAAK4C,QAAQC,aACZ7C,EAAK4C,QAAQC,WAAY,qHAJjC7C,wEAUI,OACIW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OAAKiC,IAAK3C,KAAKyC,QAAQC,WAAYE,IAAI,WACvCpC,EAAAC,EAAAC,cAAA,UAAKV,KAAKyC,QAAQI,OAElBrC,EAAAC,EAAAC,cAAA,SAAIV,KAAKyC,QAAQK,aACjBtC,EAAAC,EAAAC,cAAA,KAAGqC,KAAM/C,KAAKyC,QAAQO,KAAtB,QACAxC,EAAAC,EAAAC,cAAA,UAAKV,KAAKyC,QAAQQ,QAClBzC,EAAAC,EAAAC,cAAA,UAAKV,KAAKyC,QAAQnC,OAAOM,cArBJC,aCJxBqC,EAAU,mCACVC,EAAY,EACZC,EAAa,GCAnB,SAAeC,EAAtBvB,GAAA,OAAAwB,EAAAvB,MAAA/B,KAAAgC,sDAAO,SAAAb,EAA+BoC,GAA/B,IAAAC,EAAAC,EAAAC,EAAA,OAAAzC,EAAAR,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAICiC,EAAM,IAAIG,QAHJ,oDAAsDJ,GAD7DlC,EAAAE,KAAA,EAKkBqC,MAAMJ,GALxB,cAKCC,EALDpC,EAAAwC,KAAAxC,EAAAE,KAAA,EAMckC,EAASC,OANvB,cAMCA,EANDrC,EAAAwC,KAAAxC,EAAAyC,OAAA,SAOIJ,EAAKzB,SAPT,wBAAAZ,EAAAQ,SAAAV,6BAUA,SAAe4C,EAAtBC,EAAAC,EAAAC,EAAAC,GAAA,OAAAC,EAAArC,MAAA/B,KAAAgC,sDAAO,SAAAqC,EAAuBC,EAAaC,EAAUC,EAAGlE,GAAjD,IAAAiD,EAAAC,EAAAC,EAAAC,EAAAe,EAAAzC,UAAA,OAAAf,EAAAR,EAAAW,KAAA,SAAAsD,GAAA,cAAAA,EAAApD,KAAAoD,EAAAnD,MAAA,cAAyDgC,EAAzDkB,EAAAE,OAAA,QAAAC,IAAAH,EAAA,GAAAA,EAAA,GAAkEvB,EAGjEsB,EADK,KAANA,GAA0B,qBAAPA,EACd,MAAQA,EAGV,GAIFlE,EADU,KAAXA,GAAoC,qBAAZA,EACd,YAAcA,EAGd,GAMTkD,EAAM,IAAIG,QAHJ,yDAA2DW,EACpE,aAAeC,EAAWC,EAAIlE,EAAS,WAAaiD,GAjBlDmB,EAAAnD,KAAA,EAoBkBqC,MAAMJ,GApBxB,cAoBCC,EApBDiB,EAAAb,KAAAa,EAAAnD,KAAA,GAqBckC,EAASC,OArBvB,eAqBCA,EArBDgB,EAAAb,KAsBHgB,QAAQC,IAAI,WACZD,QAAQC,IAAIpB,GAvBTgB,EAAAZ,OAAA,SAwBIJ,EAAKqB,UAxBT,yBAAAL,EAAA7C,SAAAwC,iCCVcW,mLAEb,IAAMC,EAAIzE,EAAAC,EAAAC,cAAA,wDACV,OACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACVsE,UAL8BpE,aCM1BqE,cAEjB,SAAAA,EAAYtF,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkF,IACfrF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoF,GAAA/E,KAAAH,QA4BJmF,SA7BmB,eAAApE,EAAAjB,OAAAkB,EAAA,EAAAlB,CAAAmB,EAAAR,EAAAS,KA6BR,SAAAC,EAAOqD,EAAGlE,GAAV,IAAA8E,EAAA,OAAAnE,EAAAR,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACmBwC,EAAQlE,EAAKqC,MAAMoC,cAAezE,EAAKqC,MAAMqC,SAAUC,EAAGlE,GAD7E,cACD8E,EADC/D,EAAAwC,KAEPgB,QAAQC,IAAI,oBACZD,QAAQC,IAAIM,GAHL/D,EAAAyC,OAAA,SAIAsB,GAJA,wBAAA/D,EAAAQ,SAAAV,MA7BQ,gBAAAW,EAAAkC,GAAA,OAAAjD,EAAAgB,MAAA/B,KAAAgC,YAAA,GAAAnC,EAoCnBwF,YAAc,SAACD,GACX,IAAIL,EAAWK,EAAY/C,IAAI,SAACC,GAC5B,OAAO9B,EAAAC,EAAAC,cAAC4E,EAAD,CAAS7C,QAASH,MAE7BzC,EAAK2B,SAAS,CAAC+D,WAAa1F,EAAKqC,MAAMqD,WAAWC,OAAOT,MAtCzDlF,EAAKqC,MAAQ,CACTqD,WAAY,GACZjB,YAAa,EACbC,SAAUpB,GALCtD,iNAUWG,KAAKmF,SAAS,GAAI,WAAtCC,SACNpF,KAAKqF,YAAYD,sIAIjB,OAAqC,IAAjCpF,KAAKkC,MAAMqD,WAAWZ,OAEdnE,EAAAC,EAAAC,cAAA,OAAKgB,GAAG,WAAWf,UAAU,yBAAyB8E,IAAKzF,KAAKyF,KAC5DjF,EAAAC,EAAAC,cAACgF,EAAD,OAKRlF,EAAAC,EAAAC,cAAA,OAAKgB,GAAG,WAAWf,UAAU,yBAAyB8E,IAAKzF,KAAKyF,KAC3DzF,KAAKkC,MAAMqD,mBA1BW1E,aCLrB8E,cAClB,SAAAA,EAAYC,GAAM,IAAA/F,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2F,IACd9F,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6F,GAAAxF,KAAAH,QAiBJ6F,QAAU,SAACC,EAAcC,EAAgBC,EAAWC,GAC7CH,EAAeC,GAAkBC,GAAaC,EAC7CpG,EAAKqG,gBAGLrG,EAAKsG,eAvBKtG,EA0BlBqG,cAAgB,WACZrG,EAAK2B,SAAS,CACV4E,WAAW,KA5BDvG,EAgClBsG,YAAc,WACVtG,EAAK2B,SAAS,CACV4E,WAAW,KAhCfvG,EAAKwG,WAAaT,EAAMU,MACxBzG,EAAKO,QAAUwF,EAAMxF,QACrBP,EAAKqC,MAAM,CACPkE,WAAW,GALDvG,wEAUd,IAAM0G,EAASvG,KAAKkC,MAAMkE,WAAa5F,EAAAC,EAAAC,cAAA,UAAQN,QAASJ,KAAKI,QAASQ,KAAK,YAAYD,UAAU,mCAAmCe,GAAG,aAAa1B,KAAKqG,YACzJ,OACI7F,EAAAC,EAAAC,cAAA,WACK6F,UAd4B1F,aCAxB2F,cACjB,SAAAA,EAAYZ,GAAM,IAAA/F,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwG,IACd3G,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0G,GAAArG,KAAAH,QAkBJyG,UAnBkB3G,OAAAkB,EAAA,EAAAlB,CAAAmB,EAAAR,EAAAS,KAmBN,SAAAC,IAAA,OAAAF,EAAAR,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEF1B,EAAK2B,SACP,CAACkF,OAAS7G,EAAK8G,KAAKnC,EAAE8B,QAHlB,OAKRzG,EAAKO,UALG,wBAAAiB,EAAAQ,SAAAV,MAjBRtB,EAAKwG,WAAaT,EAAMU,MACxBzG,EAAKO,QAAUwF,EAAMxF,QACrBP,EAAKqC,MACL,CACIwE,OAAS,IANC7G,wEAWd,OACIW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACPH,EAAAC,EAAAC,cAAA,SAAOkG,KAAK,SAASN,MAAM,SAASlG,QAASJ,KAAKyG,UAAY/E,GAAG,kBACjElB,EAAAC,EAAAC,cAAA,SAAO+E,IAAI,IAAImB,KAAK,OAAOlF,GAAG,wBAfTb,aCMpBgG,cAEjB,SAAAA,EAAYjB,GAAM,IAAA/F,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6G,IACdhH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+G,GAAA1G,KAAAH,QAyBJ8G,WA1BkB,eAAA/F,EAAAjB,OAAAkB,EAAA,EAAAlB,CAAAmB,EAAAR,EAAAS,KA0BJ,SAAAC,EAAe4F,EAAevC,EAAGlE,GAAjC,IAAA0G,EAAA,OAAA/F,EAAAR,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACJwF,EAAcvF,SAAS,CACzB+D,WAAY,GACZjB,YAAa,IAHP,cAAAjD,EAAAE,KAAA,EAMewF,EAAc5B,SAASX,EAAGlE,GANzC,OAMJ0G,EANI3F,EAAAwC,KAOVkD,EAAc1B,YAAY2B,GAC1BhH,KAAK2G,KAAKM,eAAepB,QAAQmB,EAAWrC,OAAQxB,EAAW4D,EAAc7E,MAAMqD,WAAWZ,OAAQvB,GAR5F,wBAAA/B,EAAAQ,SAAAV,EAAAnB,SA1BI,gBAAA8B,EAAAkC,EAAAC,GAAA,OAAAlD,EAAAgB,MAAA/B,KAAAgC,YAAA,GAAAnC,EAqClBqH,WAAa,WACTrC,QAAQC,IAAIjF,EAAK8G,MAEjB,IAAMnC,EAAI3E,EAAK8G,KAAKQ,YAAYjF,MAAMwE,OAChCpG,EAAST,EAAK8G,KAAKS,aAAalF,MAAMT,WACtCsF,EAAgBlH,EAAK8G,KAAKI,cAEhClH,EAAKiH,WAAWC,EAAevC,EAAGlE,IA5CpBT,EA+ClBO,QA/CkBN,OAAAkB,EAAA,EAAAlB,CAAAmB,EAAAR,EAAAS,KA+CR,SAAAmD,IAAA,IAAA0C,EAAAvC,EAAAlE,EAAA8E,EAAA,OAAAnE,EAAAR,EAAAW,KAAA,SAAAsD,GAAA,cAAAA,EAAApD,KAAAoD,EAAAnD,MAAA,cACAwF,EAAgBlH,EAAK8G,KAAKI,cAE1BvC,EAAI3E,EAAK8G,KAAKQ,YAAYjF,MAAMwE,OAChCpG,EAAST,EAAK8G,KAAKS,aAAalF,MAAMT,WAJtCiD,EAAAnD,KAAA,EAMoBwF,EAAc5B,SAASX,EAAGlE,GAN9C,OAMA8E,EANAV,EAAAb,KAONkD,EAAc1B,YAAYD,GAC1BvF,EAAK8G,KAAKM,eAAepB,QAAQT,EAAYT,OAAQxB,EAAW4D,EAAc7E,MAAMqD,WAAWZ,OAAQvB,GARjG,wBAAAsB,EAAA7C,SAAAwC,MA7CNxE,EAAKoC,QAAU2D,EAAM3D,QACrBpC,EAAKkF,SAAW,GAHFlF,wEAOd,OACIW,EAAAC,EAAAC,cAAA,OAAKgB,GAAG,cACJlB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,OAAOoC,KAAM,2BAA1B,gBAEJvC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC2G,EAAD,CAAa5B,IAAI,cAAcrF,QAASJ,KAAKkH,aAC7C1G,EAAAC,EAAAC,cAAC4G,EAAD,CAAc7B,IAAI,eAAexD,QAASjC,KAAKiC,QAAUL,OAAQ5B,KAAKkH,eAG9E1G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAC6G,EAAD,CAAe9B,IAAI,gBAAgBV,SAAU/E,KAAK+E,SAAUqC,aAAcpH,KAAK2G,KAAKS,eACpF5G,EAAAC,EAAAC,cAAC8G,EAAD,CAAgB/B,IAAI,iBAAiBrF,QAASJ,KAAKI,QAASkG,MAAM,uBAtBrDzF,wDCFjC,SAAAM,IAAA,IAAAsG,EAAA,OAAAxG,EAAAR,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACyB8B,EAAgBH,GADzC,OACMuE,EADNpG,EAAAwC,KAEE6D,IAASC,OAAOnH,EAAAC,EAAAC,cAACkH,EAAD,CAAK3F,QAASwF,IAAeI,SAASC,eAAe,SAFvE,wBAAAzG,EAAAQ,SAAAV,iEAKA4G","file":"static/js/main.3c2b1243.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Component} from 'react';\r\nimport '../main.css';\r\n\r\nexport default class Source extends Component{\r\n\r\n    constructor(params)\r\n    {\r\n        super();\r\n        this.source = params.source;\r\n        this.changeSource = params.method;\r\n    }\r\n\r\n    render()\r\n    {\r\n        return <div className=\"source-div\" onClick={this.onClick}>{this.source.name}</div>\r\n    }\r\n\r\n    onClick = () => {\r\n        this.changeSource(this.source);\r\n    }\r\n}","import React from 'react';\r\nimport {Component} from 'react';\r\nimport Source from './Source';\r\nimport '../main.css';\r\n\r\nexport default class SourcesBlock extends Component{\r\n    constructor(params){\r\n        super();\r\n        this.sources = params.sources;    \r\n        this.reload = params.reload;\r\n        this.state = {currSource : '', currSourceName : 'All News'}      \r\n    }\r\n\r\n    render(){\r\n        const sourceList = this.sources.map((x) => <Source source = {x} method={this.changeSource} />);\r\n        //let currSource =  (this.state.currSourceName == '') ? \"All News\" : this.state.currSourceName;\r\n        return (\r\n            <div>\r\n                <div  className='current-source'>{this.state.currSourceName}</div>\r\n                <div className='select-source'  id=\"sources\">\r\n                    {sourceList}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    changeSource = async  (source) =>{\r\n        await this.setState({currSource : source.id, currSourceName : source.name });\r\n        this.reload();\r\n    }\r\n\r\n\r\n}","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport '../main.css';\r\n\r\nexport default class Article extends Component {\r\n\r\n    constructor(params)\r\n    {\r\n        super();\r\n        this.article = params.article;\r\n        if(this.article.urlToImage == null){\r\n            this.article.urlToImage =\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/256px-No_image_available.svg.png\";\r\n        }\r\n    }\r\n\r\n    render()    \r\n    {\r\n        return(\r\n            <div className=\"article-div\">\r\n                <img src={this.article.urlToImage} alt=\"naruto\"/>\r\n                <h1>{this.article.title}</h1>\r\n                \r\n                <p>{this.article.description}</p>\r\n                <a href={this.article.url}>more</a>\r\n                <h2>{this.article.author}</h2>\r\n                <h1>{this.article.source.name }</h1>\r\n            </div>\r\n        )        \r\n    }\r\n}","export const API_KEY = '1cb3ca22268a477b9d2a2f65c940ecfa';\r\nexport const PAGE_SIZE = 5;\r\nexport const NEWS_LIMIT = 40;\r\n\r\n//1cb3ca22268a477b9d2a2f65c940ecfa\r\n//bcebc7a888eb4ad885163a49396d5489\r\n//87304c4e5f9249b39a881273a2e00452 ","import {API_KEY} from './Constants';\r\n\r\nexport async function LoadNewsSources(apiKey) {\r\n    let url = 'https://newsapi.org/v2/sources?country=us&apiKey=' + apiKey;\r\n    //fetch(url)\r\n\r\n    let req = new Request(url);\r\n    let response = await fetch(req);\r\n    let json = await response.json();\r\n    return json.sources;\r\n}\r\n\r\nexport async function GetNews(currentPage, pageSize, q, source, apiKey = API_KEY){\r\n\r\n    if(q !== '' && typeof(q) !== 'undefined'){\r\n        q = '&q=' + q;\r\n    }\r\n    else{ \r\n        q='';\r\n    }\r\n\r\n    if(source !== '' && typeof(source) !== 'undefined'){\r\n        source = '&sources=' + source; \r\n    }\r\n    else{\r\n        source = '';\r\n    }\r\n\r\n    let url = 'https://newsapi.org/v2/top-headlines?language=en&page=' + currentPage +\r\n     '&pageSize=' + pageSize + q + source + '&apiKey=' + apiKey;\r\n\r\n    let req = new Request(url);\r\n    let response = await fetch(req);\r\n    let json = await response.json();\r\n    console.log('request');\r\n    console.log(json);\r\n    return json.articles;\r\n}","import React, {Component} from 'react';\r\n\r\nexport default class NothingFoundBlock extends Component{\r\n    render(){\r\n        const p = <p>There are no articles matching your request</p>\r\n        return (\r\n            <div className='no-match'>\r\n                {p}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport {Component} from 'react';\r\nimport Article from './Article';\r\nimport { GetNews} from '../NewsFunctions';\r\nimport '../main.css';\r\nimport NothingFoundBlock from './NothingFound';\r\nimport { PAGE_SIZE } from '../Constants';\r\n\r\nexport default class ArticlesBlock extends Component{\r\n\r\n    constructor(params){\r\n        super();\r\n        this.state = {\r\n            newsBlocks: [],\r\n            currentPage: 1,\r\n            pageSize: PAGE_SIZE\r\n        }\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        const newArticles = await this.LoadNews('', '');\r\n        this.AddArticles(newArticles);  \r\n    }\r\n    \r\n    render(){\r\n        if (this.state.newsBlocks.length === 0 )\r\n        {\r\n            return( <div id='articles' className='container articles-div' ref={this.ref}>\r\n                        <NothingFoundBlock/>\r\n                    </div>)\r\n        }\r\n        else\r\n            return(\r\n                <div id='articles' className='container articles-div' ref={this.ref}>\r\n                    {this.state.newsBlocks}\r\n                </div>\r\n            )\r\n    }\r\n\r\n    LoadNews = async (q, source) => {\r\n        const newArticles = await GetNews(this.state.currentPage++, this.state.pageSize, q, source);\r\n        console.log(\" LoadNewsRequest\");\r\n        console.log(newArticles);\r\n        return newArticles;\r\n    }\r\n\r\n    AddArticles = (newArticles) => {\r\n        let articles = newArticles.map((x) => {\r\n            return <Article article={x}/>;\r\n        });\r\n        this.setState({newsBlocks : this.state.newsBlocks.concat(articles)});\r\n    }\r\n\r\n}","import React from 'react';\r\nimport { Component } from \"react\"\r\n\r\nexport default  class ShowMoreButton extends Component{\r\n    constructor(props){\r\n        super();\r\n        this.buttonName = props.value;\r\n        this.onClick = props.onClick;\r\n        this.state={\r\n            isVisible: true\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        const button = this.state.isVisible && <button onClick={this.onClick} name=\"find-news\" className=\"btn btn-success button-show-more\" id=\"find-news\">{this.buttonName}</button>;\r\n        return (\r\n            <div>\r\n                {button}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    Refresh = (gotNewsCount, newsPerRequest, newsCount, maxNewsCount) => {\r\n        if(gotNewsCount < newsPerRequest || newsCount >= maxNewsCount){\r\n            this.MakeInvisible();\r\n        }\r\n        else    \r\n            this.MakeVisible();\r\n    }\r\n    \r\n    MakeInvisible = () => {\r\n        this.setState({\r\n            isVisible: false\r\n        })\r\n    }\r\n\r\n    MakeVisible = () => {\r\n        this.setState({\r\n            isVisible: true\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { Component } from \"react\"\r\n\r\nexport default class SearchBlock extends Component{\r\n    constructor(props){\r\n        super();\r\n        this.buttonName = props.value;\r\n        this.onClick = props.onClick;\r\n        this.state =\r\n        {\r\n            filter : ''\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return (\r\n            <div className=\"find-area\">\r\n                    <input type=\"submit\" value=\"Filter\" onClick={this.SetFilter}  id=\"search-button\"/>\r\n                    <input ref='q' type=\"text\" id=\"search-line\"/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    SetFilter = async () =>\r\n    {\r\n        await this.setState(\r\n            {filter : this.refs.q.value}\r\n        )\r\n        this.onClick();\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport SourcesBlock from './SourcesBlock';\r\nimport ArticlesBlock from \"./ArticlesBlock\";\r\nimport {PAGE_SIZE, NEWS_LIMIT} from '../Constants';\r\nimport ShowMoreButton from './ShowMoreButton';\r\nimport SearchBlock from './SearchBlock';\r\n\r\n\r\nexport default class App extends Component{\r\n\r\n    constructor(props){\r\n        super();\r\n        this.sources = props.sources;\r\n        this.articles = [];  \r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div id='main-block'>\r\n                <div>\r\n                    <div>\r\n                        <a className='logo' href ='../../public/index.html'>Ilya's News</a>\r\n                    </div>\r\n                    <div>\r\n                        <SearchBlock ref=\"searchBlock\" onClick={this.ReloadPage} />\r\n                        <SourcesBlock ref=\"sourcesBlock\" sources={this.sources}  reload={this.ReloadPage} />\r\n                    </div>\r\n                </div>\r\n                <div className='main-content'>\r\n                    <ArticlesBlock ref=\"articlesBlock\" articles={this.articles} sourcesBlock={this.refs.sourcesBlock}  />\r\n                    <ShowMoreButton ref='showMoreButton' onClick={this.onClick} value='Show more'/>\r\n                </div>\r\n            </div>\r\n        );   \r\n    }\r\n\r\n    UpdatePage =  async function(articlesBlock, q, source){\r\n        await articlesBlock.setState({\r\n            newsBlocks: [],\r\n            currentPage: 1\r\n        });\r\n        \r\n        const loadedNews = await articlesBlock.LoadNews(q, source);\r\n        articlesBlock.AddArticles(loadedNews);\r\n        this.refs.showMoreButton.Refresh(loadedNews.length, PAGE_SIZE, articlesBlock.state.newsBlocks.length, NEWS_LIMIT);\r\n    };\r\n\r\n    ReloadPage = () => {\r\n        console.log(this.refs);\r\n        //const q = this.refs.searchBlock.refs.q.value;\r\n        const q = this.refs.searchBlock.state.filter;\r\n        const source = this.refs.sourcesBlock.state.currSource;\r\n        const articlesBlock = this.refs.articlesBlock;\r\n        \r\n        this.UpdatePage(articlesBlock, q, source);\r\n    }\r\n\r\n    onClick = async () => {\r\n        const articlesBlock = this.refs.articlesBlock;\r\n        //const q = this.refs.searchBlock.refs.q.value;\r\n        const q = this.refs.searchBlock.state.filter;\r\n        const source = this.refs.sourcesBlock.state.currSource;\r\n\r\n        const newArticles = await articlesBlock.LoadNews(q, source);\r\n        articlesBlock.AddArticles(newArticles);\r\n        this.refs.showMoreButton.Refresh(newArticles.length, PAGE_SIZE, articlesBlock.state.newsBlocks.length, NEWS_LIMIT);        \r\n    };\r\n\r\n\r\n    \r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\nimport { LoadNewsSources } from './NewsFunctions';\nimport { API_KEY } from './Constants';\nimport './main.css';\n\nasync function LoadPage(){\n  let allsources = await LoadNewsSources(API_KEY);\n  ReactDOM.render(<App sources={allsources}/>, document.getElementById('root'));\n}\n\nLoadPage();"],"sourceRoot":""}