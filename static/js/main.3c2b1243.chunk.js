(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(7),s=n(0),i=n.n(s),o=n(10),u=n.n(o),l=n(2),f=n(3),h=n(5),m=n(4),p=n(6),d=(n(8),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).onClick=function(){n.changeSource(n.source)},n.source=e.source,n.changeSource=e.method,n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"source-div",onClick:this.onClick},this.source.name)}}]),t}(s.Component)),b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).changeSource=function(){var e=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({currSource:t.id,currSourceName:t.name});case 2:n.reload();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.sources=e.sources,n.reload=e.reload,n.state={currSource:"",currSourceName:"All News"},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.sources.map(function(t){return i.a.createElement(d,{source:t,method:e.changeSource})});return i.a.createElement("div",null,i.a.createElement("div",{className:"current-source"},this.state.currSourceName),i.a.createElement("div",{className:"select-source",id:"sources"},t))}}]),t}(s.Component),v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).article=e.article,null==n.article.urlToImage&&(n.article.urlToImage="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/256px-No_image_available.svg.png"),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"article-div"},i.a.createElement("img",{src:this.article.urlToImage,alt:"naruto"}),i.a.createElement("h1",null,this.article.title),i.a.createElement("p",null,this.article.description),i.a.createElement("a",{href:this.article.url},"more"),i.a.createElement("h2",null,this.article.author),i.a.createElement("h1",null,this.article.source.name))}}]),t}(s.Component),k="1cb3ca22268a477b9d2a2f65c940ecfa",w=5,j=40;function O(e){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(a.a.mark(function e(t){var n,r,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Request("https://newsapi.org/v2/sources?country=us&apiKey="+t),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c.sources);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(a.a.mark(function e(t,n,r,c){var s,i,o,u,l=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>4&&void 0!==l[4]?l[4]:k,r=""!==r&&"undefined"!==typeof r?"&q="+r:"",c=""!==c&&"undefined"!==typeof c?"&sources="+c:"",i=new Request("https://newsapi.org/v2/top-headlines?language=en&page="+t+"&pageSize="+n+r+c+"&apiKey="+s),e.next=7,fetch(i);case 7:return o=e.sent,e.next=10,o.json();case 10:return u=e.sent,console.log("request"),console.log(u),e.abrupt("return",u.articles);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var N=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=i.a.createElement("p",null,"There are no articles matching your request");return i.a.createElement("div",{className:"no-match"},e)}}]),t}(s.Component),x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).LoadNews=function(){var e=Object(c.a)(a.a.mark(function e(t,r){var c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n.state.currentPage++,n.state.pageSize,t,r);case 2:return c=e.sent,console.log(" LoadNewsRequest"),console.log(c),e.abrupt("return",c);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.AddArticles=function(e){var t=e.map(function(e){return i.a.createElement(v,{article:e})});n.setState({newsBlocks:n.state.newsBlocks.concat(t)})},n.state={newsBlocks:[],currentPage:1,pageSize:w},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.LoadNews("","");case 2:t=e.sent,this.AddArticles(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 0===this.state.newsBlocks.length?i.a.createElement("div",{id:"articles",className:"container articles-div",ref:this.ref},i.a.createElement(N,null)):i.a.createElement("div",{id:"articles",className:"container articles-div",ref:this.ref},this.state.newsBlocks)}}]),t}(s.Component),B=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).Refresh=function(e,t,r,a){e<t||r>=a?n.MakeInvisible():n.MakeVisible()},n.MakeInvisible=function(){n.setState({isVisible:!1})},n.MakeVisible=function(){n.setState({isVisible:!0})},n.buttonName=e.value,n.onClick=e.onClick,n.state={isVisible:!0},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state.isVisible&&i.a.createElement("button",{onClick:this.onClick,name:"find-news",className:"btn btn-success button-show-more",id:"find-news"},this.buttonName);return i.a.createElement("div",null,e)}}]),t}(s.Component),C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).SetFilter=Object(c.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({filter:n.refs.q.value});case 2:n.onClick();case 3:case"end":return e.stop()}},e)})),n.buttonName=e.value,n.onClick=e.onClick,n.state={filter:""},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"find-area"},i.a.createElement("input",{type:"submit",value:"Filter",onClick:this.SetFilter,id:"search-button"}),i.a.createElement("input",{ref:"q",type:"text",id:"search-line"}))}}]),t}(s.Component),S=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).UpdatePage=function(){var e=Object(c.a)(a.a.mark(function e(t,n,r){var c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({newsBlocks:[],currentPage:1});case 2:return e.next=4,t.LoadNews(n,r);case 4:c=e.sent,t.AddArticles(c),this.refs.showMoreButton.Refresh(c.length,w,t.state.newsBlocks.length,j);case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),n.ReloadPage=function(){console.log(n.refs);var e=n.refs.searchBlock.state.filter,t=n.refs.sourcesBlock.state.currSource,r=n.refs.articlesBlock;n.UpdatePage(r,e,t)},n.onClick=Object(c.a)(a.a.mark(function e(){var t,r,c,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.refs.articlesBlock,r=n.refs.searchBlock.state.filter,c=n.refs.sourcesBlock.state.currSource,e.next=5,t.LoadNews(r,c);case 5:s=e.sent,t.AddArticles(s),n.refs.showMoreButton.Refresh(s.length,w,t.state.newsBlocks.length,j);case 8:case"end":return e.stop()}},e)})),n.sources=e.sources,n.articles=[],n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"main-block"},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("a",{className:"logo",href:"../../public/index.html"},"Ilya's News")),i.a.createElement("div",null,i.a.createElement(C,{ref:"searchBlock",onClick:this.ReloadPage}),i.a.createElement(b,{ref:"sourcesBlock",sources:this.sources,reload:this.ReloadPage}))),i.a.createElement("div",{className:"main-content"},i.a.createElement(x,{ref:"articlesBlock",articles:this.articles,sourcesBlock:this.refs.sourcesBlock}),i.a.createElement(B,{ref:"showMoreButton",onClick:this.onClick,value:"Show more"})))}}]),t}(s.Component);function A(){return(A=Object(c.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(k);case 2:t=e.sent,u.a.render(i.a.createElement(S,{sources:t}),document.getElementById("root"));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){A.apply(this,arguments)}()},8:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.3c2b1243.chunk.js.map